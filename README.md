# causti • co — website

![build and deploy](https://github.com/causti-co/website/actions/workflows/build-and-deploy.yaml/badge.svg)

The source-code behind [https://causti.co/](https://causti.co/), powered by [11ty](https://github.com/11ty/eleventy/).

### Getting started

Content goes in `src/text/**.md`, `src/photo/**.{md,jpg}`, and `src/recs/**.md`, with the following naming convention: `###-desired-content-url.ext`. Content is generated by the presence of markdown files, but photo content will require a JPG with the same name as well. Recs can optionally include a JPG image, following the same convention.

Static content will be generated in `dist/`, to be deployed at the domain root, by running:
```sh
npm run build
```

For a smooth development/authoring experience, you can launch a local server that watches for filesystem changes:
```sh
npm run serve
```

### Drafts

By default, content inside the `src/**/_drafts/` folders will be ignored. If you set the `ELEVENTY_ENV` variables to a value different than `prod` or `production`, then this content will be processed as normal. This lets you safely author drafts locally, preview them locally, have them under source control and push them to your upstream, but not have them show up in your production website until you move them out of the drafts folder.

### Deploy

The `build-and-deploy` workflow handles continuous deployment to GitHub Pages, with a twist: The repository that hosts the actual GitHub Page is not this repository, it's [causti-co/causti-co.github.io](https://github.com/causti-co/causti-co.github.io). So the deploy step is actually just pushing the latest static content into this repository, using [deploy keys](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys#deploy-keys).

Why? Because I really did not want to use `docs/` for GitHub pages, and the only way I'd be happy with the static content sitting at the root of a repository is by having a dedicated repostory just for the static content. But overall I'm happy with this approach, and from the point of view of this repository, we're 100% agnostic of GitHub Pages which makes it easier for me to change hosting providers in the future.

### Learn more

For the moment you'll have to take a look around and figure how things work. I'll be working on an article describing how I put this together and what are my motivations soon, and will link to it once it's published.

### Legal

causti • co © 2024 by Martín Valdés de León. Website content (`src/**/*.md`, `src/photo/**/*.{jpg,jpeg,webp}`) is licensed under CC BY-NC-ND 4.0. Remaining content is licensed under CC BY-NC-SA-4.0. For additional licensing contact [Martín Valdés de León](mailto:m.valdesdeleon@gmail.com?subject=causti+•+co+licensing)